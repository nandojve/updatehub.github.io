
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="All your devices, always updated">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Quick starting with Raspberry Pi 3 - UpdateHub</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
      <link rel="manifest" href="../manifest.webmanifest" crossorigin="use-credentials">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-XXXXXXXX-X","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-starting-with-raspberrypi-3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="UpdateHub" class="md-header__button md-logo" aria-label="UpdateHub" data-md-component="logo">
      
  <img src="../img/assets/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UpdateHub
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick starting with Raspberry Pi 3
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/UpdateHub/updatehub.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    UpdateHub/updatehub.github.io
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Introduction
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../what-is-updatehub/" class="md-tabs__link">
      What is UpdateHub
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      Quick starting with Raspberry Pi 3
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../updatehub-cloud/dashboard/" class="md-tabs__link">
        Using UpdateHub Cloud
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../updatehub-agent/intro/" class="md-tabs__link">
        Handling UpdateHub agent
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../yocto-project/supported-machines/" class="md-tabs__link">
        Integrating with Yocto Project
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../faq/faq-questions/" class="md-tabs__link">
      FAQ
    </a>
  </li>

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="UpdateHub" class="md-nav__button md-logo" aria-label="UpdateHub" data-md-component="logo">
      
  <img src="../img/assets/favicon.ico" alt="logo">

    </a>
    UpdateHub
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/UpdateHub/updatehub.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    UpdateHub/updatehub.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../what-is-updatehub/" class="md-nav__link">
        What is UpdateHub
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Quick starting with Raspberry Pi 3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Quick starting with Raspberry Pi 3
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-you-will-need" class="md-nav__link">
    What You Will Need
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-guide" class="md-nav__link">
    Step guide
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-step-preparing-the-yocto-project-environment" class="md-nav__link">
    First step: preparing the Yocto Project environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#second-step-creating-a-product" class="md-nav__link">
    Second step: creating a product
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#third-step-generating-an-access-key" class="md-nav__link">
    Third step: generating an Access Key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fourth-step-configuring-the-localconf-file" class="md-nav__link">
    Fourth step: Configuring the local.conf file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fifth-step-building-an-image" class="md-nav__link">
    Fifth step: building an image
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sixth-step-changing-the-image" class="md-nav__link">
    Sixth step: changing the image
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seventh-step-sending-a-new-image-version" class="md-nav__link">
    Seventh step: sending a new image version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eighth-step-creating-a-rollout" class="md-nav__link">
    Eighth step: creating a rollout
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Using UpdateHub Cloud
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Using UpdateHub Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Using UpdateHub Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-cloud/dashboard/" class="md-nav__link">
        UpdateHub Cloud dashboard
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-cloud/product/" class="md-nav__link">
        Managing a Product
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-cloud/device/" class="md-nav__link">
        Handling a Device
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-cloud/package-rollout/" class="md-nav__link">
        Package and Rollout
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-cloud/menu/" class="md-nav__link">
        Your menu account
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Handling UpdateHub agent
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Handling UpdateHub agent" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Handling UpdateHub agent
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-agent/intro/" class="md-nav__link">
        Meeting the UpdateHub Agent
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-agent/state-machine/" class="md-nav__link">
        The State Machine and the Flows
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../updatehub-agent/controlling-agent/" class="md-nav__link">
        Controlling the Agent
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Integrating with Yocto Project
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Integrating with Yocto Project" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Integrating with Yocto Project
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../yocto-project/supported-machines/" class="md-nav__link">
        Supported machines
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../yocto-project/yocto-project-guide/" class="md-nav__link">
        Yocto Project guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../yocto-project/yocto-project-reference/" class="md-nav__link">
        Yocto Project reference
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../yocto-project/glossary/" class="md-nav__link">
        Glossary of variables
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq/faq-questions/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-you-will-need" class="md-nav__link">
    What You Will Need
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-guide" class="md-nav__link">
    Step guide
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-step-preparing-the-yocto-project-environment" class="md-nav__link">
    First step: preparing the Yocto Project environment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#second-step-creating-a-product" class="md-nav__link">
    Second step: creating a product
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#third-step-generating-an-access-key" class="md-nav__link">
    Third step: generating an Access Key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fourth-step-configuring-the-localconf-file" class="md-nav__link">
    Fourth step: Configuring the local.conf file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fifth-step-building-an-image" class="md-nav__link">
    Fifth step: building an image
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sixth-step-changing-the-image" class="md-nav__link">
    Sixth step: changing the image
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seventh-step-sending-a-new-image-version" class="md-nav__link">
    Seventh step: sending a new image version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eighth-step-creating-a-rollout" class="md-nav__link">
    Eighth step: creating a rollout
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/UpdateHub/updatehub.github.io/edit/master/docs/quick-starting-with-raspberrypi3.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="quick-starting-with-raspberrypi-3">Quick starting with RaspberryPi 3<a class="headerlink" href="#quick-starting-with-raspberrypi-3" title="Permanent link">&para;</a></h1>
<p>In this step-by-step, we show how easily you can generate a <strong>Linux</strong> image, that has <strong>UpdateHub</strong> support, using <strong>Yocto Project</strong> in a <strong>Raspberry Pi 3</strong> development board. So you can get to know <strong>UpdateHub</strong> in a practical way and see how simple it is to keep your devices updated in the field using a secure way of communication.</p>
<div class="admonition warning">
<p>We assume that you have previous experience with the <strong>Yocto Project</strong>, know the main terms and have already created an image using it. If you are new to this <a href="https://www.yoctoproject.org/docs/3.0.1/brief-yoctoprojectqs/brief-yoctoprojectqs.html">tutorial</a>, you can use it.</p>
</div>
<h2 id="what-you-will-need">What You Will Need<a class="headerlink" href="#what-you-will-need" title="Permanent link">&para;</a></h2>
<p>To follow this guide, you will need the following:</p>
<ul>
<li>A <strong>Raspberry Pi 3</strong> <a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b/">Model B</a> or <a href="http://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/">B+</a></li>
<li>An 4 GB or larger micro SD card</li>
<li>An Ethernet cable for wired connectivity to the internet</li>
<li>An <a href="https://auth.updatehub.io/auth/signup/"><strong>UpdateHub account</strong></a> to access the hosted server</li>
</ul>
<div class="admonition info">
<p>An <strong>UpdateHub</strong> account allows manager even 5 devices; for more support and features is advisable <a href="https://updatehub.io/pricing/#pricing">migrate your plan</a>.</p>
</div>
<h2 id="step-guide">Step guide<a class="headerlink" href="#step-guide" title="Permanent link">&para;</a></h2>
<p>To generate an image that connects a device to the <strong>UpdateHub Cloud</strong>, we will first have to <a href="first-step-preparing-the-yocto-project-environment">prepare the <strong>Yocto Project</strong> environment</a> with the basic layers to generate an image with support for <strong>UpdateHub</strong>.</p>
<p>In addition to the layers, you will need to configure some variables that are generated on the Dashboard. The first is the <a href="#second-step-creating-a-product">product identifier</a> to which the device and the image will be connected. Then we will have to <a href="#third-step-generating-an-access-key">generate an access key</a> in <em>Settings</em> that will authenticate the device when it accesses the server.</p>
<p>At this point, we <a href="#fourth-step-configuring-the-localconf-file">check the <em>local.conf</em></a> file to verify that everything is correct and <a href="#fifth-step-building-an-image">build the image</a>. That's it! Now just burn the image on the device and it is prepared with OTA support.</p>
<p>Additionally we <a href="#sixth-step-changing-the-image">update the image</a> by adding ssh support and we <a href="#seventh-step-sending-a-new-image-version">send the updated image</a> to <strong>UpdateHub Cloud</strong> and show how simple an update of your device is with the <a href="#eighth-step-creating-a-rollout">create a rollout</a>.</p>
<h2 id="first-step-preparing-the-yocto-project-environment">First step: preparing the Yocto Project environment<a class="headerlink" href="#first-step-preparing-the-yocto-project-environment" title="Permanent link">&para;</a></h2>
<p>The first step is to initialize the environment to build a <strong>Linux</strong> image using <strong>Yocto Project</strong> and for that, we need to fetch all the needed layers, that includes the main <em>OE-Core</em> layers, the <em>BSP</em> layer that adds support to <strong>Raspberry Pi</strong> and the layers that add support to <strong>UpdateHub</strong>.</p>
<p>To get the platform you need to have <a href="https://gerrit.googlesource.com/git-repo/"><em>Repo</em></a> (a tool for manager git repositories) installed:</p>
<p>For <em>Debian/Ubuntu</em> based distros run:</p>
<div class="codehilite"><pre><span></span><code>sudo apt-get install repo
</code></pre></div>

<p>For others distros, check the distro documentation or install <code>repo</code> manually:</p>
<div class="codehilite"><pre><span></span><code>mkdir -p ~/.bin
PATH=&quot;${HOME}/.bin:${PATH}&quot;
curl https://storage.googleapis.com/git-repo-downloads/repo &gt; ~/.bin/repo
chmod a+rx ~/.bin/repo
</code></pre></div>

<p>To download the platform source, that will download all layers:</p>
<div class="codehilite"><pre><span></span><code>mkdir updatehub-get-started
cd updatehub-get-started
repo init -u https://github.com/UpdateHub/updatehub-yocto-project-get-started.git -b dunfell
repo sync
</code></pre></div>

<p>Setup the environment with:</p>
<div class="codehilite"><pre><span></span><code>source ./setup-environment build
</code></pre></div>

<p>At the end of the commands, you have all metadata you need to start to work.</p>
<h2 id="second-step-creating-a-product">Second step: creating a product<a class="headerlink" href="#second-step-creating-a-product" title="Permanent link">&para;</a></h2>
<p>One of the variables needed to generate the image is the product identifier that is generated when creating a <em>Product</em>.</p>
<p>To create a <em>Product</em> just go to <a href="https://dashboard.updatehub.io/"><em>Dashboard</em></a> and click on <em>Add product</em>.</p>
<p align="center"> <img
  src="../img/introduction/quick-starting-with-raspberrypi3/addProduct.png">
  </p>

<p>By doing that the following dialog will be displayed. You should choose a <em>Product</em> name and in <em>Owner</em> choose <em>Me</em>.</p>
<div class="admonition danger">
<p class="admonition-title">About the name and owner</p>
<p>Bear in the mind that after you create a <em>Product</em> you can not rename or delete it, and you can not transfer it to an organization or vice versa, so have sure you are choosing the correct name and the owner.</p>
</div>
<p align="center"> <img
  src="../img/introduction/quick-starting-with-raspberrypi3/modalProduct.png">
  </p>

<p>After the <em>Product</em> has been created a <em>Unique Identifier Number</em> (<em>UPDATEHUB_PRODUCT_UID</em>) is generated to identify it. This number should be
added to your build to allow the <strong>UpdateHub Agent</strong>, which runs inside the target device, to communicate with the <strong>UpdateHub Cloud</strong>.</p>
<p align="center"> <img
  src="../img/introduction/quick-starting-with-raspberrypi3/uid.png"> </p>

<p>For convenience, you can add the <em>UPDATEHUB_PRODUCT_UID</em> to your <code>build/conf/local.conf</code> configuration file when prototyping. However, as this is information that will be permanent for the whole product life cycle, it should be put inside your distribution configuration file or image recipe.</p>
<div class="admonition info">
<p>In case you didn't copy the <em>Product Unique Identifier Number</em> the moment that you create it on the <strong>UpdateHub Cloud</strong> doesn't worry. To get access to this  information again you must click on the <em>Product</em> icon and the <em>Unique Identifier Number</em> will be shown to you.</p>
</div>
<p>Once you have logged in, the <em>Products</em> page will display the list of your own products and the other products you have access to.</p>
<p align="center"> <img
  src="../img/introduction/quick-starting-with-raspberrypi3/productList.png">
  </p>

<h2 id="third-step-generating-an-access-key">Third step: generating an Access Key<a class="headerlink" href="#third-step-generating-an-access-key" title="Permanent link">&para;</a></h2>
<p>To authenticate and authorize requests for a project build with the <strong>UpdateHub Cloud</strong> you must have a security credential in the form of an application
access key. Each access key is specific to your user and is used to upload the packages update or any other external integration which needs to access the
<strong>UpdateHub</strong> API.</p>
<p>To generate an <em>Access Key</em> you must enter the <em>Settings</em> menu and click on the <em>+ Request Access Key</em> button. Choose a name for the key and select the API Key owner as <em>Me</em>.</p>
<p align="center"> <img
  src="../../img/introduction/quick-starting-with-raspberrypi3/menu-setting.png">
  </p>

<p>Once the <em>Access Key</em> is created a dialog will appear to show the security credentials.</p>
<div class="admonition danger">
<p class="admonition-title">Save your keys</p>
<p>On the moment that this window is closed the keys will not be shown again and if you lose them you must revoke the <em>Access Key</em> and generate a new one.</p>
</div>
<p align="center"> <img
  src="../img/introduction/quick-starting-with-raspberrypi3/accesskey.png">
  </p>

<p>Include these variables in <code>build/conf/local.conf</code>:</p>
<div class="codehilite"><pre><span></span><code>UPDATEHUB_ACCESS_ID = &quot;your-email@gmail.com-8bc21121049af...&quot;
UPDATEHUB_ACCESS_SECRET = &quot;9b1fcee96795fa5dea5cd04cb1d2...&quot;
</code></pre></div>

<h2 id="fourth-step-configuring-the-localconf-file">Fourth step: Configuring the local.conf file<a class="headerlink" href="#fourth-step-configuring-the-localconf-file" title="Permanent link">&para;</a></h2>
<p>Come back to <strong>Yocto Project</strong> directory on your computer. After fetching the <strong>bitbake</strong> layers are important to change some variables in the <code>local.conf</code> file.</p>
<p>Here we'll put the variables that were generated before: UPDATEHUB_PRODUCT_UID from the <em>Product</em> and the UPDATEHUB_ACCESS_ID and UPDATEHUB_ACCESS_SECRET generated in <em>Settings</em>.</p>
<div class="codehilite"><pre><span></span><code>UPDATEHUB_PRODUCT_UID = &quot;05344b71c3e9f8...&quot;
UPDATEHUB_ACCESS_ID = &quot;your-email@gmail.com-8bc21121049af...&quot;
UPDATEHUB_ACCESS_SECRET = &quot;9b1fcee96795fa5dea5cd04cb1d2...&quot;
</code></pre></div>

<p><em>UPDATEHUB_PACKAGE_VERSION_SUFFIX</em> is used to add a suffix in the version of the image being generated. This is useful for placing a version number and incrementing with each new image.</p>
<div class="codehilite"><pre><span></span><code>UPDATEHUB_PACKAGE_VERSION_SUFFIX =&quot;-test-image-1.0&quot;
</code></pre></div>

<p>Finally, the final of your <code>local.conf</code> file should seem like this.</p>
<div class="codehilite"><pre><span></span><code>UPDATEHUB_PRODUCT_UID = &quot;05344b71c3e9f8...&quot;
UPDATEHUB_ACCESS_ID = &quot;your-email@gmail.com-8bc21121049af...&quot;
UPDATEHUB_ACCESS_SECRET = &quot;9b1fcee96795fa5dea5cd04cb1d2...&quot;
UPDATEHUB_PACKAGE_VERSION_SUFFIX = &quot;-test-image-1.0&quot;
</code></pre></div>

<h2 id="fifth-step-building-an-image">Fifth step: building an image<a class="headerlink" href="#fifth-step-building-an-image" title="Permanent link">&para;</a></h2>
<p>With all variables configured, now we can generate our image. Open a terminal, go to your build directory and type:</p>
<div class="codehilite"><pre><span></span><code>bitbake updatehub-image-base
</code></pre></div>

<div class="admonition info">
<p>The generate image process can take a good time; it is dependent directly of the host resources.</p>
</div>
<p>Now it's time to burn the image in the SD card. Then in a terminal go to this directory:</p>
<div class="codehilite"><pre><span></span><code>build/tmp/deploy/images/raspberrypi3/
</code></pre></div>

<p>And type this:</p>
<div class="admonition danger">
<p>Check the name of the SD card before executing the command below!</p>
</div>
<div class="admonition tip">
<p>You can check the device name that corresponds to the SD card using the command <em>dmesg</em>.</p>
</div>
<div class="codehilite"><pre><span></span><code>zcat updatehub-image-base-raspberrypi3.wic.gz | sudo dd of=/dev/sdX
</code></pre></div>

<p>With the SD card ready, you can insert it into the target and connect it to <strong>RaspberryPi</strong>. The image is configured to obtain an IP address using DHCP. To
access the console, the <em>user</em> is set to "root” and doesn't need to enter a password, just hit <em>Enter</em>.</p>
<p>You can confirm the version of the image that is running on the target with the command:</p>
<div class="codehilite"><pre><span></span><code>cat /etc/os-release
</code></pre></div>

<p>You will see the version that you put in the <code>local.conf</code> file.</p>
<div class="codehilite"><pre><span></span><code>O.S. Systems Embedded Linux 19.10 raspberrypi3 ttyS0
root@raspberrypi3:~# cat /etc/os-release
ID=&quot;oel&quot;
NAME=&quot;O.S. Systems Embedded Linux&quot;
VERSION=&quot;19.10&quot;
VERSION_ID=&quot;19.10-test-image-1.0&quot;
PRETTY_NAME=&quot;O.S. Systems Embedded Linux 19.10&quot;
UPDATEHUB_PRODUCT_UID=&quot;05344b71c3e9f8...&quot;&quot;
root@raspberrypi3:~#
</code></pre></div>

<h2 id="sixth-step-changing-the-image">Sixth step: changing the image<a class="headerlink" href="#sixth-step-changing-the-image" title="Permanent link">&para;</a></h2>
<p>Now that the whole upgrade process has been explained, we'll add support for an SSH server on the target and create an update package to install this functionality.</p>
<p>To add support for the SSH OpenSSH server add the following line to the <code>conf/local.conf</code> file:</p>
<div class="codehilite"><pre><span></span><code>IMAGE_FEATURES += &quot;ssh-server-openssh&quot;
</code></pre></div>

<p>And change the variable <em>UPDATEHUB_PACKAGE_VERSION_SUFFIX</em> to use the version of our test image:</p>
<div class="codehilite"><pre><span></span><code>UPDATEHUB_PACKAGE_VERSION_SUFFIX = &quot;-test-image-2.0&quot;
</code></pre></div>

<h2 id="seventh-step-sending-a-new-image-version">Seventh step: sending a new image version<a class="headerlink" href="#seventh-step-sending-a-new-image-version" title="Permanent link">&para;</a></h2>
<p>We can save the file, generate a new update package, and send the new file to <strong>UpdateHub Cloud</strong> by running the same command:</p>
<div class="codehilite"><pre><span></span><code>bitbake updatehub-image-base -c uhupush
</code></pre></div>

<p>After sending, the package will be available on the <em>Dashboard</em> in the <em>Package</em> section of the corresponding <em>Product</em> page.</p>
<h2 id="eighth-step-creating-a-rollout">Eighth step: creating a rollout<a class="headerlink" href="#eighth-step-creating-a-rollout" title="Permanent link">&para;</a></h2>
<p>The rollout is the process of sending an updated image to devices in the field through <strong>UpdateHub Cloud</strong>. To create a rollout we have to access the <a href="https://dashboard.updatehub.io/"><em>Dashboard</em></a>, access the <em>Product</em> card we created before and then click on <em>Create rollout</em>. In the displayed window choose the available version and click on <em>Save and start</em>.</p>
<p>The status of the update process is shown in the displayed window, and can also be followed by the <em>Devices</em> section for each device individually.</p>
<p>When the status shows updated, we can access the target using the SSH protocol, for this type in the host:</p>
<div class="codehilite"><pre><span></span><code>ssh root@TARGET_IP_ADDR
</code></pre></div>

<p>No password is required, just hit <em>Enter</em> and we will be in the target console. Again we can check the version with the contents of the <code>/etc/os-release</code> file.</p>
<p><strong>Here we finish our quick start, but we invite you to learn more about UpdateHub in the rest of the documentation.</strong></p>
<p>If you have encountered difficulties or have any questions or suggestions, please contact us through the <a href="https://gitter.im/UpdateHub/community?utm_source=share-link&amp;utm_medium=link&amp;utm_campaign=share-link">Gitter</a> or send us an email by contact@updatehub.io.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../what-is-updatehub/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              What is UpdateHub
            </div>
          </div>
        </a>
      
      
        <a href="../updatehub-cloud/dashboard/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              UpdateHub Cloud dashboard
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 O.S. Systems
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://gitter.im/UpdateHub" target="_blank" rel="noopener" title="gitter.im" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://github.com/OSSystems" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/OSSystemsNews?s=20" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.linkedin.com/company/ossystems" target="_blank" rel="noopener" title="www.linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>